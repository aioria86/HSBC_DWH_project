{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Juan Manuel\\\\Documents\\\\GitHub\\\\HSBC_DWH_project\\\\frontend\\\\app\\\\src\\\\components\\\\KPIs.js\";\nimport React from 'react';\nimport { Row, Col, Card } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst KPIs = ({\n  ventas\n}) => {\n  var _Object$entries$sort$, _Object$entries$sort$2, _Object$entries$sort$3;\n  if (ventas.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-center\",\n      children: \"No hay datos disponibles para los filtros seleccionados.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 6,\n      columnNumber: 12\n    }, this);\n  }\n  const totalVentas = ventas.length;\n  const totalIngresos = ventas.reduce((sum, v) => sum + parseFloat(v.total), 0);\n  const ticketPromedio = totalIngresos / totalVentas;\n  const productoMasVendido = ventas.reduce((acc, venta) => {\n    acc[venta.producto.nombre] = (acc[venta.producto.nombre] || 0) + venta.cantidad;\n    return acc;\n  }, {});\n  const productoTop = (_Object$entries$sort$ = Object.entries(productoMasVendido).sort((a, b) => b[1] - a[1])[0]) === null || _Object$entries$sort$ === void 0 ? void 0 : _Object$entries$sort$[0];\n  const clienteMasFrecuente = ventas.reduce((acc, venta) => {\n    acc[venta.cliente.nombre] = (acc[venta.cliente.nombre] || 0) + 1;\n    return acc;\n  }, {});\n  const clienteTop = (_Object$entries$sort$2 = Object.entries(clienteMasFrecuente).sort((a, b) => b[1] - a[1])[0]) === null || _Object$entries$sort$2 === void 0 ? void 0 : _Object$entries$sort$2[0];\n  const añoConMasVentas = ventas.reduce((acc, venta) => {\n    const año = new Date(venta.tiempo.fecha).getFullYear();\n    acc[año] = (acc[año] || 0) + 1;\n    return acc;\n  }, {});\n  const añoTop = (_Object$entries$sort$3 = Object.entries(añoConMasVentas).sort((a, b) => b[1] - a[1])[0]) === null || _Object$entries$sort$3 === void 0 ? void 0 : _Object$entries$sort$3[0];\n  return /*#__PURE__*/_jsxDEV(Row, {\n    className: \"my-4 text-center\",\n    children: [/*#__PURE__*/_jsxDEV(Col, {\n      md: 4,\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        body: true,\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Total de Ventas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 30\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: totalVentas\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 62\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 19\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Col, {\n      md: 4,\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        body: true,\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Total Ingresos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 30\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"\\u20AC \", totalIngresos.toLocaleString('es-ES')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 61\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 19\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Col, {\n      md: 4,\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        body: true,\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Ticket Promedio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 30\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"\\u20AC \", ticketPromedio.toLocaleString('es-ES', {\n            minimumFractionDigits: 2\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 62\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 19\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Col, {\n      md: 4,\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        body: true,\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Producto m\\xE1s vendido\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 30\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: productoTop\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 67\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 19\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Col, {\n      md: 4,\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        body: true,\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Cliente m\\xE1s frecuente\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 30\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: clienteTop\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 68\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 19\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Col, {\n      md: 4,\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        body: true,\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"A\\xF1o con m\\xE1s ventas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 30\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: añoTop\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 65\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 19\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n};\n_c = KPIs;\nexport default KPIs;\nvar _c;\n$RefreshReg$(_c, \"KPIs\");","map":{"version":3,"names":["React","Row","Col","Card","jsxDEV","_jsxDEV","KPIs","ventas","_Object$entries$sort$","_Object$entries$sort$2","_Object$entries$sort$3","length","className","children","fileName","_jsxFileName","lineNumber","columnNumber","totalVentas","totalIngresos","reduce","sum","v","parseFloat","total","ticketPromedio","productoMasVendido","acc","venta","producto","nombre","cantidad","productoTop","Object","entries","sort","a","b","clienteMasFrecuente","cliente","clienteTop","añoConMasVentas","año","Date","tiempo","fecha","getFullYear","añoTop","md","body","toLocaleString","minimumFractionDigits","_c","$RefreshReg$"],"sources":["C:/Users/Juan Manuel/Documents/GitHub/HSBC_DWH_project/frontend/app/src/components/KPIs.js"],"sourcesContent":["import React from 'react';\r\nimport { Row, Col, Card } from 'react-bootstrap';\r\n\r\nconst KPIs = ({ ventas }) => {\r\n  if (ventas.length === 0) {\r\n    return <p className=\"text-center\">No hay datos disponibles para los filtros seleccionados.</p>;\r\n  }\r\n\r\n  const totalVentas = ventas.length;\r\n  const totalIngresos = ventas.reduce((sum, v) => sum + parseFloat(v.total), 0);\r\n  const ticketPromedio = totalIngresos / totalVentas;\r\n\r\n  const productoMasVendido = ventas.reduce((acc, venta) => {\r\n    acc[venta.producto.nombre] = (acc[venta.producto.nombre] || 0) + venta.cantidad;\r\n    return acc;\r\n  }, {});\r\n  const productoTop = Object.entries(productoMasVendido).sort((a, b) => b[1] - a[1])[0]?.[0];\r\n\r\n  const clienteMasFrecuente = ventas.reduce((acc, venta) => {\r\n    acc[venta.cliente.nombre] = (acc[venta.cliente.nombre] || 0) + 1;\r\n    return acc;\r\n  }, {});\r\n  const clienteTop = Object.entries(clienteMasFrecuente).sort((a, b) => b[1] - a[1])[0]?.[0];\r\n\r\n  const añoConMasVentas = ventas.reduce((acc, venta) => {\r\n    const año = new Date(venta.tiempo.fecha).getFullYear();\r\n    acc[año] = (acc[año] || 0) + 1;\r\n    return acc;\r\n  }, {});\r\n  const añoTop = Object.entries(añoConMasVentas).sort((a, b) => b[1] - a[1])[0]?.[0];\r\n\r\n  return (\r\n    <Row className=\"my-4 text-center\">\r\n      <Col md={4}><Card body><strong>Total de Ventas</strong><div>{totalVentas}</div></Card></Col>\r\n      <Col md={4}><Card body><strong>Total Ingresos</strong><div>€ {totalIngresos.toLocaleString('es-ES')}</div></Card></Col>\r\n      <Col md={4}><Card body><strong>Ticket Promedio</strong><div>€ {ticketPromedio.toLocaleString('es-ES', { minimumFractionDigits: 2 })}</div></Card></Col>\r\n      <Col md={4}><Card body><strong>Producto más vendido</strong><div>{productoTop}</div></Card></Col>\r\n      <Col md={4}><Card body><strong>Cliente más frecuente</strong><div>{clienteTop}</div></Card></Col>\r\n      <Col md={4}><Card body><strong>Año con más ventas</strong><div>{añoTop}</div></Card></Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default KPIs;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}