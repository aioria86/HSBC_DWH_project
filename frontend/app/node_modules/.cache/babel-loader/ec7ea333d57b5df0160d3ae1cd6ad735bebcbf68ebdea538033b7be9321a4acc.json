{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Juan Manuel\\\\Documents\\\\GitHub\\\\HSBC_DWH_project\\\\frontend\\\\app\\\\src\\\\components\\\\KPIs.js\";\nimport React from 'react';\nimport { Row, Col, Card } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst KPIs = ({\n  ventas = []\n}) => {\n  const totalVentas = ventas.length;\n  const totalIngresos = ventas.reduce((sum, v) => sum + v.total, 0);\n  const ticketPromedio = totalVentas > 0 ? totalIngresos / totalVentas : 0;\n  const productoMasVendido = (() => {\n    const productos = ventas.map(v => v.producto.nombre);\n    const frecuencia = {};\n    productos.forEach(p => frecuencia[p] = (frecuencia[p] || 0) + 1);\n    const max = Math.max(...Object.values(frecuencia));\n    return Object.keys(frecuencia).find(p => frecuencia[p] === max);\n  })();\n  const clienteFrecuente = (() => {\n    const clientes = ventas.map(v => v.cliente.nombre);\n    const frecuencia = {};\n    clientes.forEach(c => frecuencia[c] = (frecuencia[c] || 0) + 1);\n    const max = Math.max(...Object.values(frecuencia));\n    return Object.keys(frecuencia).find(c => frecuencia[c] === max);\n  })();\n  const añoMasVentas = (() => {\n    const años = ventas.map(v => new Date(v.tiempo.fecha).getFullYear());\n    const frecuencia = {};\n    años.forEach(a => frecuencia[a] = (frecuencia[a] || 0) + 1);\n    const max = Math.max(...Object.values(frecuencia));\n    return Object.keys(frecuencia).find(a => frecuencia[a] === max);\n  })();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"my-4\",\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          body: true,\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Total de Ventas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 56\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: totalVentas\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 88\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          body: true,\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Total Ingresos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 56\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"\\u20AC \", totalIngresos.toLocaleString('es-ES')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 87\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          body: true,\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Ticket Promedio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 56\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"\\u20AC \", ticketPromedio.toLocaleString('es-ES', {\n              minimumFractionDigits: 2\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 88\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          body: true,\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Producto m\\xE1s vendido\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 56\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: productoMasVendido || 'N/A'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 93\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          body: true,\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Cliente m\\xE1s frecuente\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 56\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: clienteFrecuente || 'N/A'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 94\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          body: true,\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"A\\xF1o con m\\xE1s ventas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 56\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: añoMasVentas || 'N/A'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 91\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n_c = KPIs;\nexport default KPIs;\nvar _c;\n$RefreshReg$(_c, \"KPIs\");","map":{"version":3,"names":["React","Row","Col","Card","jsxDEV","_jsxDEV","KPIs","ventas","totalVentas","length","totalIngresos","reduce","sum","v","total","ticketPromedio","productoMasVendido","productos","map","producto","nombre","frecuencia","forEach","p","max","Math","Object","values","keys","find","clienteFrecuente","clientes","cliente","c","añoMasVentas","años","Date","tiempo","fecha","getFullYear","a","className","children","md","body","fileName","_jsxFileName","lineNumber","columnNumber","toLocaleString","minimumFractionDigits","_c","$RefreshReg$"],"sources":["C:/Users/Juan Manuel/Documents/GitHub/HSBC_DWH_project/frontend/app/src/components/KPIs.js"],"sourcesContent":["import React from 'react';\r\nimport { Row, Col, Card } from 'react-bootstrap';\r\n\r\nconst KPIs = ({ ventas = [] }) => {\r\n  const totalVentas = ventas.length;\r\n  const totalIngresos = ventas.reduce((sum, v) => sum + v.total, 0);\r\n  const ticketPromedio = totalVentas > 0 ? totalIngresos / totalVentas : 0;\r\n\r\n  const productoMasVendido = (() => {\r\n    const productos = ventas.map(v => v.producto.nombre);\r\n    const frecuencia = {};\r\n    productos.forEach(p => frecuencia[p] = (frecuencia[p] || 0) + 1);\r\n    const max = Math.max(...Object.values(frecuencia));\r\n    return Object.keys(frecuencia).find(p => frecuencia[p] === max);\r\n  })();\r\n\r\n  const clienteFrecuente = (() => {\r\n    const clientes = ventas.map(v => v.cliente.nombre);\r\n    const frecuencia = {};\r\n    clientes.forEach(c => frecuencia[c] = (frecuencia[c] || 0) + 1);\r\n    const max = Math.max(...Object.values(frecuencia));\r\n    return Object.keys(frecuencia).find(c => frecuencia[c] === max);\r\n  })();\r\n\r\n  const añoMasVentas = (() => {\r\n    const años = ventas.map(v => new Date(v.tiempo.fecha).getFullYear());\r\n    const frecuencia = {};\r\n    años.forEach(a => frecuencia[a] = (frecuencia[a] || 0) + 1);\r\n    const max = Math.max(...Object.values(frecuencia));\r\n    return Object.keys(frecuencia).find(a => frecuencia[a] === max);\r\n  })();\r\n\r\n  return (\r\n    <div className=\"my-4\">\r\n      <Row className=\"mb-3\">\r\n        <Col md={4}><Card body className=\"text-center\"><strong>Total de Ventas</strong><div>{totalVentas}</div></Card></Col>\r\n        <Col md={4}><Card body className=\"text-center\"><strong>Total Ingresos</strong><div>€ {totalIngresos.toLocaleString('es-ES')}</div></Card></Col>\r\n        <Col md={4}><Card body className=\"text-center\"><strong>Ticket Promedio</strong><div>€ {ticketPromedio.toLocaleString('es-ES', { minimumFractionDigits: 2 })}</div></Card></Col>\r\n      </Row>\r\n      <Row>\r\n        <Col md={4}><Card body className=\"text-center\"><strong>Producto más vendido</strong><div>{productoMasVendido || 'N/A'}</div></Card></Col>\r\n        <Col md={4}><Card body className=\"text-center\"><strong>Cliente más frecuente</strong><div>{clienteFrecuente || 'N/A'}</div></Card></Col>\r\n        <Col md={4}><Card body className=\"text-center\"><strong>Año con más ventas</strong><div>{añoMasVentas || 'N/A'}</div></Card></Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default KPIs;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}